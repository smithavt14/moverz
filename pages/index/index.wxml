<!-- <view class="page__container">
  <button wx:if="{{canIUse && !hasUser}}" open-type="getUserInfo" bindgetuserinfo="userInfoHandler" type="primary">Login</button>
    <view wx:if="{{!canIUse}}">Please upgrade your WeChat version.</view>
</view> -->
<view class="page__container">
  <!-- Sender Information -->
  <view class="info_container">
    <image class="icon" src="/assets/icons/location.svg"></image>
    
    <!-- if no existing agent -->
    <view wx:if="{{!sender_agent}}" class="left_box" bindtap="createAgent" data-agent="sender">
      <view class="top_value">寄件人信息</view>
      <view class="bottom_value">点击填写寄件地址</view>
    </view>

    <!-- if existing agent -->
    <view wx:else class="left_box" bindtap="createAgent" data-agent="sender">
      <view class="top_value">{{sender_agent.name}}</view>
      <view class="bottom_value">{{sender_agent.address}}</view>
    </view>

    <view class="right_box" bindtap="chooseAgent">地址薄</view>
  </view>

  <!-- Receiver Information -->
  <view class="info_container">
    <image class="icon" src="/assets/icons/location.svg"></image>
    
    <!-- if no existing agent -->
    <view wx:if="{{!receiver_agent}}" class="left_box" bindtap="createAgent" data-agent="receiver">
      <view class="top_value">
        <text>收件人信息</text>
      </view>
      <view class="bottom_value">
        <text>点击填写收件地址</text>
      </view>
    </view>

    <!-- if existing agent -->
    <view wx:else class="left_box" bindtap="createAgent" data-agent="receiver">
      <view class="top_value">
        <text>{{receiver_agent.name}}</text>
      </view>
      <view class="bottom_value">
        <text>{{receiver_agent.address}}</text>
      </view>
    </view>

    <view class="right_box" bindtap="chooseAgent">
      <text>地址薄</text> 
    </view>
  </view>

  <!-- Delivery Time -->
  <view style="width: 100vw; background: white;">
    <view class="order_container">
      <view class="left_box">
        上门时间
      </view>
      <view class="right_box">
        <picker mode="time" value="{{pickup.time}}" start="{{pickup.min}}" bindchange="bindTimeChange">
          <view wx:if="{{pickup.time === pickup.min}}" style="display: flex; align-items: center;">
            <view>一小时内</view>
            <image src="/assets/icons/arrow.png" class="icon"></image>
          </view>
          <view wx:else id="light-content">
            {{pickup.time}}
          </view>
        </picker>
      </view>
    </view>

    <!-- Delivery Date -->
    <view class="order_container">
      <view class="left_box">
        上门日期
      </view>
      <view class="right_box">
        <picker mode="date" value="{{pickup.date}}" start="{{pickup.date}}" bindchange="bindDateChange">
          <view wx:if="{{pickup.date === today}}" style="display: flex; align-items: center;">
            <view>今天</view>
            <image src="/assets/icons/arrow.png" class="icon"></image>
          </view>
          <view wx:else id="light-content">
            {{pickup.date}}
          </view>
        </picker>
      </view>
    </view>

    <!-- Parcel Information -->
    <view class="order_container" bindtap="createParcel">
      <view class="left_box">
        物品信息
      </view>
      <view wx:if="{{!parcel}}" class="right_box" id="light-content">
        <view>请填写</view>
        <image src="/assets/icons/arrow.png" class="icon"></image>
      </view>

      <view wx:else class="right_box">
        <view>{{parcel.category}} {{parcel.weight}} 公斤</view>
        <image src="/assets/icons/arrow.png" class="icon"></image>
      </view>
    </view>
  </view>
</view>